<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" data-theme="jerezsur">

<head th:fragment="head(pageTitle)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ?: 'Jerez Sur Inmobiliaria'">Panel</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            darkMode: 'class', // ← opcional pero recomendado
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                    },
                },
            },
            plugins: [  // ← importante: daisyui como plugin
                // Esto es necesario aunque uses CDN
                require('daisyui')
            ],
            daisyui: {
                themes: [
                    {
                        jerezsur: {
                            primary: "#1e3a8a",
                            "primary-content": "#ffffff",
                            secondary: "#10b981",
                            "secondary-content": "#ffffff",
                            accent: "#f59e0b",
                            "accent-content": "#ffffff",
                            neutral: "#3d4451",
                            "base-100": "#ffffff",
                            "base-200": "#f3f4f6",
                            "base-content": "#1f2937",     // ← aquí tenías #d1d5db (muy claro)
                            success: "#10b981",
                            error: "#f87171",
                        }
                    },
                    "cupcake"  // tema fallback
                ]
            }
        }
    </script>

    <!-- El link de daisyui después del config -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
    <style>
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 10px;
        }
    </style>
</head>

<body class="bg-base-200 font-sans min-h-screen">

    <nav th:fragment="navbar(activePage)" class="navbar bg-primary text-primary-content shadow-lg px-4 lg:px-12 mb-8">
        <div class="navbar-start">
            <div class="dropdown lg:hidden">
                <label tabindex="0" class="btn btn-ghost btn-circle">
                    <i class="bi bi-list text-2xl"></i>
                </label>
                <ul tabindex="0"
                    class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52 text-base-content">
                    <li><a th:href="@{/inmuebles}">Inmuebles</a></li>
                    <li><a th:href="@{/propiedades}">Propiedades</a></li>
                    <li><a th:href="@{/estadisticas}">Estadísticas</a></li>
                </ul>
            </div>
            <a th:href="@{/inmuebles}" class="flex items-center gap-2">
                <img th:src="@{/img/Final2.png}" alt="Logo" class="h-10 w-auto brightness-0 invert">
            </a>
        </div>
        <div class="navbar-center hidden lg:flex">
            <ul class="menu menu-horizontal p-0 gap-1 text-xs uppercase tracking-widest font-bold">
                <li>
                    <a th:href="@{/inmuebles}"
                        th:classappend="${activePage == 'inmuebles'} ? 'bg-white/20 text-white' : 'hover:bg-white/10'">
                        Inmuebles
                    </a>
                </li>
                <li>
                    <a th:href="@{/propiedades}"
                        th:classappend="${activePage == 'propiedades'} ? 'bg-white/20 text-white' : 'hover:bg-white/10'">
                        Propiedades
                    </a>
                </li>
                <li>
                    <a th:href="@{/estadisticas}"
                        th:classappend="${activePage == 'estadisticas'} ? 'bg-white/20 text-white' : 'hover:bg-white/10'">
                        Estadísticas
                    </a>
                </li>
            </ul>
        </div>
        <div class="navbar-end">
            <button class="btn btn-ghost btn-circle">
                <i class="bi bi-person-circle text-xl"></i>
            </button>
        </div>
    </nav>

    <div th:fragment="messages" class="container mx-auto px-4 mb-6">
        <div th:if="${success}" class="alert alert-success shadow-lg border-none text-white animate-bounce-short">
            <i class="bi bi-check-circle-fill text-lg"></i>
            <span th:text="${success}">¡Operación realizada con éxito!</span>
        </div>
        <div th:if="${error}" class="alert alert-error shadow-lg border-none text-white mt-2">
            <i class="bi bi-exclamation-triangle-fill text-lg"></i>
            <span th:text="${error}">Ha ocurrido un error inesperado.</span>
        </div>
    </div>

    <div th:fragment="scripts">
        <script>
            console.log("Jerez Sur Layout cargado correctamente");
        </script>
    </div>

</body>

</html>